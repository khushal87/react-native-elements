(window.webpackJsonp=window.webpackJsonp||[]).push([[209],{282:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return b})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return l}));var a=n(3),i=n(7),r=(n(0),n(291)),b={title:"React Native Web",author:"Havit Rovik",authorURL:"https://github.com/haruelrovix"},o={permalink:"/blog/2018/12/13/react-native-web",source:"@site/blog/2018-12-13-react-native-web.md",description:"Comprehensive Guide to create simple app using React Native Web and React Native\xa0Elements",date:"2018-12-13T00:00:00.000Z",tags:[],title:"React Native Web",readingTime:11.455,truncated:!1,prevItem:{title:"React Native Elements 1.0",permalink:"/blog/2019/01/27/1.0-release"}},c=[{value:"ToC",id:"toc",children:[]},{value:"0\ufe0f\u20e3 Initial\xa0Step",id:"0\ufe0f\u20e3-initial-step",children:[]},{value:"1\ufe0f\u20e3 First\xa0Step",id:"1\ufe0f\u20e3-first-step",children:[]},{value:"2\ufe0f\u20e3 Step\xa0Two",id:"2\ufe0f\u20e3-step-two",children:[]},{value:"3\ufe0f\u20e3 Give it a\xa0try",id:"3\ufe0f\u20e3-give-it-a-try",children:[]},{value:"4\ufe0f\u20e3 Add Home component",id:"4\ufe0f\u20e3-add-home-component",children:[{value:"Styling for Home component",id:"styling-for-home-component",children:[]}]},{value:"5\ufe0f\u20e3 Routing",id:"5\ufe0f\u20e3-routing",children:[{value:"Implement withHeader",id:"implement-withheader",children:[]}]},{value:"6\ufe0f\u20e3 Fetch data from GitHub API",id:"6\ufe0f\u20e3-fetch-data-from-github-api",children:[{value:"Render commit data",id:"render-commit-data",children:[]}]},{value:"7\ufe0f\u20e3 Handle form submission",id:"7\ufe0f\u20e3-handle-form-submission",children:[]},{value:"8\ufe0f\u20e3 Polishing the app",id:"8\ufe0f\u20e3-polishing-the-app",children:[]},{value:"Conclusion",id:"conclusion",children:[]},{value:"Troubleshooting \ud83d\udcba",id:"troubleshooting-",children:[{value:"Authors",id:"authors",children:[]}]}],p={rightToc:c};function l(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Comprehensive Guide to create simple app using React Native Web and React Native\xa0Elements")),Object(r.b)("p",null,"Case study: ",Object(r.b)("inlineCode",{parentName:"p"},"gitphone"),", GitHub repository checker for your smartphone."),Object(r.b)("img",{src:"https://cdn-images-1.medium.com/max/1000/1*PHcPxP963ascQkeZOqy-rQ.png"}),Object(r.b)("h2",{id:"toc"},"ToC"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Initialize the project using ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/VISI-ONE/create-react-native-web-app"}),"CRNWA")),Object(r.b)("li",{parentName:"ul"},"Make sure everything works: Android, iOS and Web"),Object(r.b)("li",{parentName:"ul"},"Add RNE latest ( 1.0.0-beta7 ) to the project"),Object(r.b)("li",{parentName:"ul"},"Add 2 screens")),Object(r.b)("p",null,"Screen 1 RNE components:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Input"),Object(r.b)("li",{parentName:"ol"},"Button with Icon")),Object(r.b)("p",null,"Screen 2 RNE components:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Header"),Object(r.b)("li",{parentName:"ol"},"ListItem"),Object(r.b)("li",{parentName:"ol"},"Avatar"),Object(r.b)("li",{parentName:"ol"},"Text")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"gitphone")," should have:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"routing, ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://reacttraining.com/react-router"}),"react-router"),". It works great both on Native and Web."),Object(r.b)("li",{parentName:"ul"},"calls to GitHub API. See ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://developer.github.com/v3/"}),"https://developer.github.com/v3/"),".")),Object(r.b)("h2",{id:"0\ufe0f\u20e3-initial-step"},"0\ufe0f\u20e3 Initial\xa0Step"),Object(r.b)("p",null,"Install create-react-native-web-app"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ npm i -g create-react-native-web-app\n")),Object(r.b)("h2",{id:"1\ufe0f\u20e3-first-step"},"1\ufe0f\u20e3 First\xa0Step"),Object(r.b)("p",null,"Create ",Object(r.b)("inlineCode",{parentName:"p"},"gitphone")," project."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'\u03bb create-react-native-web-app gitphone\n\n\u23f3 Creating React Native Web App by the name of gitphone ...\n\n\u2705 Created project folder.\n\n\u2705 Added project files.\n\n\u23f3 Installing project dependencies...\n\nyarn install v1.10.1\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.2.4: The platform "win32" is incompatible with this module.\ninfo "fsevents@1.2.4" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 797.66s.\n\n\u2705 Installed project dependencies.\n\n\u2705 Done! \ud83d\ude01\ud83d\udc4d Your project is ready for development.\n\n* change directory to your new project\n$ cd gitphone\n\n$ Then run the these commands to get started:\n\n* To run development Web server\n$ yarn web\n\n* To run Android on connected device (after installing Android Debug Bridge "adb" - https://developer.android.com/studio/releases/platform-tools)\n$ yarn android\n\n* To run ios simulator (after installing Xcode - only on Apple devices)\n$ yarn ios\n\n* To run tests for Native and Web\n$ yarn test\n\n* To run build for Web\n$ yarn build\n')),Object(r.b)("p",null,"Change to ",Object(r.b)("inlineCode",{parentName:"p"},"gitphone")," directory and test the web app by running ",Object(r.b)("inlineCode",{parentName:"p"},"yarn web"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"Starting the development server...\nCompiled successfully!\nYou can now view create-react-native-web-app in the browser.\nLocal:            http://localhost:3001/\nOn Your Network:  http://172.26.235.145:3001/\nNote that the development build is not optimized.\nTo create a production build, use yarn build.\n")),Object(r.b)("img",{src:"https://cdn-images-1.medium.com/max/800/1*tmq9VHw3S4cgxfWg8xN3gQ.png",width:300}),Object(r.b)("p",null,"Now, test the ",Object(r.b)("inlineCode",{parentName:"p"},"gitphone")," android app by running ",Object(r.b)("inlineCode",{parentName:"p"},"yarn android"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"Installing APK 'app-debug.apk' on 'Redmi 4X - 7.1.2' for app:debug\nInstalled on 1 device.\n\nBUILD SUCCESSFUL\n\nTotal time: 21.783 secs\n\nStarting: Intent { cmp=com.creaternwapp/.MainActivity }\n\u2728  Done in 25.64s.\n")),Object(r.b)("p",null,"If the build successful, you'll see the app installed on your Android (emulator) device."),Object(r.b)("img",{src:"https://cdn-images-1.medium.com/max/800/1*BddouTisdXvDzY5vB9U3pQ.png",width:300}),Object(r.b)("p",null,"But if you got an error when run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn android"),", please see Troubleshooting section below."),Object(r.b)("p",null,"The last part for First Step, make sure it can be run on iOS without any problem. Run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn ios")," and ",Object(r.b)("em",{parentName:"p"},"voila!")),Object(r.b)("img",{src:"https://cdn-images-1.medium.com/max/800/1*6AHlumHN29RANlXsrXDu4g.png",width:300}),Object(r.b)("h2",{id:"2\ufe0f\u20e3-step-two"},"2\ufe0f\u20e3 Step\xa0Two"),Object(r.b)("p",null,"Installing React Native Elements (RNE)."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ yarn add react-native-elements@beta\n")),Object(r.b)("p",null,"Installing React Native Vector Icons (RNVI)."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ yarn add react-native-vector-icons\n")),Object(r.b)("p",null,"Linking:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ react-native link react-native-vector-icons\n")),Object(r.b)("p",null,"Both RNE and RNVI are written using es6. If you run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn web")," at this point, you'll got an error."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"./node_modules/react-native-elements/src/config/withTheme.js\nModule parse failed: Unexpected token (12:28)\nYou may need an appropriate loader to handle this file type.\n")),Object(r.b)("p",null,"We need to tell webpack to transpile them."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Open ",Object(r.b)("inlineCode",{parentName:"li"},"config/webpack.config.dev.js")),Object(r.b)("li",{parentName:"ol"},"On line 141 ",Object(r.b)("inlineCode",{parentName:"li"},"Process JS with babel"),", add RNE and RNVI to include"),Object(r.b)("li",{parentName:"ol"},"Do the same for ",Object(r.b)("inlineCode",{parentName:"li"},"config/webpack.config.prod.js")," as well \ud83d\udc4c")),Object(r.b)("p",null,"If you get lost, see this ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/01d335dfcabec17a6aa5bc7a53fef277"}),"gist")," or commit ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/8c0e6036d9231cc934285502528a2061b848ce2d"}),"8c0e603"),"."),Object(r.b)("h2",{id:"3\ufe0f\u20e3-give-it-a-try"},"3\ufe0f\u20e3 Give it a\xa0try"),Object(r.b)("p",null,"Now, let's grasp the idea how RNE works."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open src/App.js")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Import Button from RNE"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"import { Button } from 'react-native-elements';\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"On render, change TouchableHighlight to use RNE's Button")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Run yarn ios, yarn android and yarn web to see it in action! \ud83d\udc4f"))),Object(r.b)("p",null,"Note: If you got an error ",Object(r.b)("inlineCode",{parentName:"p"},"Could not find com.android.tools.build.appt2")," when running ",Object(r.b)("inlineCode",{parentName:"p"},"yarn android"),", add ",Object(r.b)("inlineCode",{parentName:"p"},"google")," on the gradle repositories."),Object(r.b)("p",null,"See this ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/51a695a4fe292767bedc32ec638f9736"}),"gist")," or commit for the details: ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/a2ebba14aef533925b593933fa885e2f990b2ace"}),"a2ebba1"),"."),Object(r.b)("h2",{id:"4\ufe0f\u20e3-add-home-component"},"4\ufe0f\u20e3 Add Home component"),Object(r.b)("p",null,"Our first component will be ",Object(r.b)("inlineCode",{parentName:"p"},"Home"),". On this component, there are two input fields and one Submit button."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Inside ",Object(r.b)("inlineCode",{parentName:"li"},"src"),", create new folder: ",Object(r.b)("inlineCode",{parentName:"li"},"Components")),Object(r.b)("li",{parentName:"ol"},"Add new file called ",Object(r.b)("inlineCode",{parentName:"li"},"Home.js")," ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/04eeb6c4d8d0cc56e041e5be2c20bc97"}),"gist")),Object(r.b)("li",{parentName:"ol"},"On ",Object(r.b)("inlineCode",{parentName:"li"},"App.js"),", import ",Object(r.b)("inlineCode",{parentName:"li"},"Home")," component ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/15cd4badc3a9ec949037b19d9195d6bc"}),"gist")),Object(r.b)("li",{parentName:"ol"},"Run ",Object(r.b)("inlineCode",{parentName:"li"},"yarn ios"),", ",Object(r.b)("inlineCode",{parentName:"li"},"yarn android")," and ",Object(r.b)("inlineCode",{parentName:"li"},"yarn web")," to see it in action! \ud83c\udf87")),Object(r.b)("h3",{id:"styling-for-home-component"},"Styling for Home component"),Object(r.b)("p",null,"You should notice that our ",Object(r.b)("inlineCode",{parentName:"p"},"Home")," doesn\u2019t look good in term of UI. Let\u2019s add styling for it."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Inside ",Object(r.b)("inlineCode",{parentName:"li"},"Components"),", create ",Object(r.b)("inlineCode",{parentName:"li"},"Shared.style.js")," file ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/7fee3c03b9fead9b74739e28a24effa9"}),"gist")),Object(r.b)("li",{parentName:"ol"},"Import the style and update ",Object(r.b)("inlineCode",{parentName:"li"},"Home")," component as below ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/4fb2e695d1562ff3475ebc91e6c27fcd"}),"gist")),Object(r.b)("li",{parentName:"ol"},"Looks better now","*",", commit for adding Home component: ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/haruelrovix/gitphone/commit/2e510c462c68d7c68433f2706cf8fbb847d6541e"}),"2e510c4"),".")),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"Wait a minute\u2026")," ","*","Seems there is a problem with RNVI on the web version. You can check this ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/oblador/react-native-vector-icons#web-with-webpack"}),"Web (with webpack)")," article or just following steps bellow."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Open ",Object(r.b)("inlineCode",{parentName:"li"},"config/webpack.config.dev.js")),Object(r.b)("li",{parentName:"ol"},"Add url-loader on line 162 ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/edd520f4bf4268e17ef56f40314080a5"}),"gist")),Object(r.b)("li",{parentName:"ol"},"Do the same for ",Object(r.b)("inlineCode",{parentName:"li"},"config/webpack.config.prod.js")," as well \ud83d\udc4c"),Object(r.b)("li",{parentName:"ol"},"Open ",Object(r.b)("inlineCode",{parentName:"li"},"src/index.js")," file"),Object(r.b)("li",{parentName:"ol"},"Add ",Object(r.b)("inlineCode",{parentName:"li"},"iconFont")," and append ",Object(r.b)("inlineCode",{parentName:"li"},"style")," to document\u2019s head ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/b291e8a4f34577d94e85570d304b82fe"}),"gist"))),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2584/1*YS7jioDKIKKvort5AzGXYA.png",alt:"Our RNE x RNW progress so far~"})),Object(r.b)("em",{parentName:"p"},"Our RNE x RNW progress so far~")),Object(r.b)("h2",{id:"5\ufe0f\u20e3-routing"},"5\ufe0f\u20e3 Routing"),Object(r.b)("p",null,"Next, let\u2019s add second component: ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList"),"."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Create new folder inside ",Object(r.b)("inlineCode",{parentName:"li"},"Components")," named ",Object(r.b)("inlineCode",{parentName:"li"},"Commit")),Object(r.b)("li",{parentName:"ol"},"Add new file: ",Object(r.b)("inlineCode",{parentName:"li"},"CommitList.js")," ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/4cece6275cf40d97defb036756bab82b"}),"gist"))),Object(r.b)("p",null,"On our app, user goes to second screen by click on ",Object(r.b)("inlineCode",{parentName:"p"},"Submit")," button. How do we implement it?"),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"\u201creact-router comes to the rescue\u201d")," - ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://reacttraining.com/react-router/"}),"https://reacttraining.com/react-router/")),Object(r.b)("p",null,"Add react-router-dom and react-router-native"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ yarn add react-router-dom react-router-native\n")),Object(r.b)("p",null,"Web needs ",Object(r.b)("inlineCode",{parentName:"p"},"BrowserRouter")," while native ",Object(r.b)("inlineCode",{parentName:"p"},"NativeRouter"),". We need to separate it based on the platform."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"On ",Object(r.b)("inlineCode",{parentName:"li"},"src"),", create ",Object(r.b)("inlineCode",{parentName:"li"},"Utils")," folder"),Object(r.b)("li",{parentName:"ol"},"Add two files on ",Object(r.b)("inlineCode",{parentName:"li"},"Utils"),": ",Object(r.b)("inlineCode",{parentName:"li"},"Routing.native.js")," and ",Object(r.b)("inlineCode",{parentName:"li"},"Routing.web.js")," ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://gist.github.com/haruelrovix/3d7e26df6bb2d6056e2f4612a77fd2fc"}),"gist"))),Object(r.b)("p",null,"Those file\u2019s content differ only on the second line. ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/32353543e417373a770365f855701c37"}),"gist")),Object(r.b)("p",null,"Now, glue it together."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open ",Object(r.b)("inlineCode",{parentName:"p"},"App.js"),", import ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList")," component")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Import ",Object(r.b)("inlineCode",{parentName:"p"},"Route"),", ",Object(r.b)("inlineCode",{parentName:"p"},"Router")," and ",Object(r.b)("inlineCode",{parentName:"p"},"Switch")," from ",Object(r.b)("inlineCode",{parentName:"p"},"Utils/Routing"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Implement routing inside ",Object(r.b)("inlineCode",{parentName:"p"},"render")," method ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/d5bf357efbbf094b26549f40709ec74f"}),"gist"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Now for the action on ",Object(r.b)("inlineCode",{parentName:"p"},"Submit")," button, open ",Object(r.b)("inlineCode",{parentName:"p"},"Home.js"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Import ",Object(r.b)("inlineCode",{parentName:"p"},"withRouter")," from ",Object(r.b)("inlineCode",{parentName:"p"},"Utils/Routing")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"import { withRouter } from '../Utils/Routing';\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"WithRouter")," is an HOC. Use it to wrap ",Object(r.b)("inlineCode",{parentName:"p"},"Home")," component"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"export default withRouter(Home);\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add ",Object(r.b)("inlineCode",{parentName:"p"},"onPress")," property for the button"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"onPress={this.onPressButton}\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Implement the ",Object(r.b)("inlineCode",{parentName:"p"},"onPressButton")," event handler"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"onPressButton = () => this.props.history.push('/commit');\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"All ",Object(r.b)("inlineCode",{parentName:"p"},"Home")," together ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/8fc8ae9dab580c5e79f24a59a2c195b6"}),"gist")," | ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/f193aa3c268e7be263ae529de0f719ffd443e26d"}),"commit")))),Object(r.b)("p",null,"Test it on ",Object(r.b)("inlineCode",{parentName:"p"},"web")," and ",Object(r.b)("inlineCode",{parentName:"p"},"android"),", you should be able to go back and forth between screens using ",Object(r.b)("inlineCode",{parentName:"p"},"Submit")," and pressing ",Object(r.b)("inlineCode",{parentName:"p"},"Back")," button."),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"\u201cHow can I go back on iOS?\u201d")," \ud83d\ude02"),Object(r.b)("h3",{id:"implement-withheader"},"Implement withHeader"),Object(r.b)("p",null,"We will create a ",Object(r.b)("inlineCode",{parentName:"p"},"withHeader")," HOC. Why HOC? We can reuse it easier ",Object(r.b)("em",{parentName:"p"},"if we add more screens later.")),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"On ",Object(r.b)("inlineCode",{parentName:"p"},"src"),", create ",Object(r.b)("inlineCode",{parentName:"p"},"HOCs")," folder")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add ",Object(r.b)("inlineCode",{parentName:"p"},"withHeader.js")," file")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Import ",Object(r.b)("inlineCode",{parentName:"p"},"Header")," from RNE and ",Object(r.b)("inlineCode",{parentName:"p"},"Icon")," from ",Object(r.b)("inlineCode",{parentName:"p"},"RNVI/FontAwesome")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"import { Header } from 'react-native-elements';\nimport Icon from 'react-native-vector-icons/FontAwesome';\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"withHeader")," accepts one prop: ",Object(r.b)("inlineCode",{parentName:"p"},"title")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"const withHeader = ({ title = '' }) => (WrappedComponent) => {\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Event handler to go back / go home"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"goBack = () => this.props.history.goBack();\n\ngoHome = () => this.props.history.replace('/');\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Import and use ",Object(r.b)("inlineCode",{parentName:"p"},"withHeader")," in ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList")," component ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/b1608f9f010caa47c18ebc71d87106ae"}),"gist")," | ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/0cf995bde91f5958e252188f1343de923069e7f3"}),"commit")))),Object(r.b)("h2",{id:"6\ufe0f\u20e3-fetch-data-from-github-api"},"6\ufe0f\u20e3 Fetch data from GitHub API"),Object(r.b)("p",null,"Let\u2019s fetch a real-live data: list commit on repository by ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.github.com/v3/repos/commits/#list-commits-on-a-repository"}),"GitHub")," and render it on our second screen, ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"GET /repos/:owner/:repo/commits\n")),Object(r.b)("p",null,"Ideally, the :owner and :repo are form values from our first screen. Since the objective of this article is RNE x RNW, talk about that form (and state-management) later on."),Object(r.b)("p",null,"To fetch GitHub API, we will use ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/esphen/fetch-hoc"}),"fetch-hoc")," package and also need ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://redux.js.org/api/compose"}),"compose")," from ",Object(r.b)("inlineCode",{parentName:"p"},"redux"),", to handle multiple HOCs on the same component."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ yarn add fetch-hoc redux\n")),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList.js"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Import ",Object(r.b)("inlineCode",{parentName:"p"},"{ compose }")," from ",Object(r.b)("inlineCode",{parentName:"p"},"redux")," and ",Object(r.b)("inlineCode",{parentName:"p"},"fetch")," from ",Object(r.b)("inlineCode",{parentName:"p"},"fetch-hoc"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Use it as below ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/1c3affbfd585c3b8acfc1c156164fd1f"}),"gist")," | ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/334197c7c05bd1bdb1b648ca56cfe69c8b496eed"}),"commit")))),Object(r.b)("p",null,"Now run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn web"),", open ",Object(r.b)("inlineCode",{parentName:"p"},"network")," tab of ",Object(r.b)("inlineCode",{parentName:"p"},"DevTools")," and click ",Object(r.b)("inlineCode",{parentName:"p"},"Submit")," button, you\u2019ll see bunch of commit data. By default GitHub API returning 30 commits."),Object(r.b)("h3",{id:"render-commit-data"},"Render commit data"),Object(r.b)("p",null,"Commit data that will be displayed on the screen:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"author.avatar_url\n\ncommit:\n  author.name\n  message\n")),Object(r.b)("p",null,"Let\u2019s modify ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList.js")),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add new imports"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"import { ActivityIndicator, Dimensions, FlatList, Platform, View } from 'react-native';\nimport { Avatar, ListItem } from 'react-native-elements';\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"On main render, modify it as below"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"<View style={styles.container}>\n  {this.renderContent()}\n</View>\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create ",Object(r.b)("inlineCode",{parentName:"p"},"renderContent")," method"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"renderContent = () => (\n  this.props.loading ?\n    <ActivityIndicator color='#87ceeb' /> :\n    <FlatList\n      keyExtractor={this.keyExtractor}\n      data={this.props.data}\n      renderItem={this.renderItem}\n    />\n)\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create ",Object(r.b)("inlineCode",{parentName:"p"},"renderItem")," method"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"renderItem = ({ item }) => (\n  <ListItem\n    title={item.commit.author.name}\n    subtitle={item.commit.message}\n    leftElement={this.renderLeftElement(item)\n  />\n)\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create ",Object(r.b)("inlineCode",{parentName:"p"},"renderLeftElement")," method"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"renderLeftElement = (item) => (\n  <View>\n    <Avatar\n      source={{ uri: item.author.avatar_url }}\n      size='medium'\n      rounded\n    />\n  </View>\n)\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Here is our new ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList")," including the styling to make it prettier ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://gist.github.com/haruelrovix/e4b02328766efd1491338d5111becff7"}),"gist")," | ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/27a78672958f0caaa34b3e93c934685b9dcebd50"}),"commit")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Here they are!")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/6436/1*iD3lSG6D3lGDkJr5HB2i2A.png",alt:"awesome, eh?"})),Object(r.b)("em",{parentName:"p"},"awesome, eh?")),Object(r.b)("h2",{id:"7\ufe0f\u20e3-handle-form-submission"},"7\ufe0f\u20e3 Handle form submission"),Object(r.b)("p",null,"Our app looks great so far. But we are not passing values from first to second screen. Let\u2019s do it."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"To handle form, we\u2019ll use ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/jaredpalmer/formik"}),"formik")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ yarn add formik\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open ",Object(r.b)("inlineCode",{parentName:"p"},"Home.js")," and import it"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"import { Formik } from 'formik';\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Wrap main ",Object(r.b)("inlineCode",{parentName:"p"},"View")," with ",Object(r.b)("inlineCode",{parentName:"p"},"formik")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"<Formik initialValues={{ owner: '', repo: '' }}\n  onSubmit={this.onPressButton}>\n  {({ handleChange, handleSubmit, values }) => (\n    <View style={styles.container}>\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add ",Object(r.b)("inlineCode",{parentName:"p"},"onChangeText")," handler to the ",Object(r.b)("inlineCode",{parentName:"p"},"Input")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"<Input ... onChangeText={handleChange('owner')} value={values.owner}\n<Input ... onChangeText={handleChange('repo')} value={values.repo}\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Change ",Object(r.b)("inlineCode",{parentName:"p"},"Button")," ",Object(r.b)("inlineCode",{parentName:"p"},"onPress")," props to ",Object(r.b)("inlineCode",{parentName:"p"},"handleSubmit")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"<Button ... onPress={handleSubmit}\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Don\u2019t forget to close the main ",Object(r.b)("inlineCode",{parentName:"p"},"View")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"    </View>\n  )}\n</Formik>\n")))),Object(r.b)("p",null,"Form submission: done \ud83d\udc4c Next question: How do we pass these values to second screen? ",Object(r.b)("em",{parentName:"p"},"Send them when we redirect to second screen!")),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Inside ",Object(r.b)("inlineCode",{parentName:"p"},"onPressButton")," method, send an object instead of ",Object(r.b)("inlineCode",{parentName:"p"},"pathname")," only."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"this.props.history.push({\n  pathname: '/commit',\n  state: { owner, repo }\n});\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList"),", import ",Object(r.b)("inlineCode",{parentName:"p"},"withRouter")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"import { withRouter } from '../../Utils/Routing';\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add ",Object(r.b)("inlineCode",{parentName:"p"},"withRouter")," inside ",Object(r.b)("inlineCode",{parentName:"p"},"compose"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Get the values passed down to ",Object(r.b)("inlineCode",{parentName:"p"},"withRouter")," and use it to ",Object(r.b)("inlineCode",{parentName:"p"},"fetch")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"withHeader({ title: 'Commits' }),\nwithRouter,\nfetch(({ location: { state = {} } }) => (\n `https://api.github.com/repos/${state.owner}/${state.repo}/commits`\n))\n")))),Object(r.b)("p",null,"HOC\u2019s order does matter. So, make sure it the same as snippet above. In case you lost, here is the commit: ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/1d83c5e1487d2d99c00cc1b18f563ed4497d87b9"}),"1d83c5e"),"."),Object(r.b)("p",null,"Test the app. Now we should able to fetch any GitHub repository, ",Object(r.b)("em",{parentName:"p"},"with some caveats.")," \ud83d\udc40"),Object(r.b)("h2",{id:"8\ufe0f\u20e3-polishing-the-app"},"8\ufe0f\u20e3 Polishing the app"),Object(r.b)("p",null,"What happens if we fetch repository which doesn\u2019t exist? ",Object(r.b)("em",{parentName:"p"},"Red screen on native, blank screen on web!")," \ud83d\ude39"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"fetch-hoc")," returns an error if it has. Let\u2019s use it."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"On ",Object(r.b)("inlineCode",{parentName:"p"},"CommitList"),", modify ",Object(r.b)("inlineCode",{parentName:"p"},"renderContent")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"this.props.loading ?\n  <ActivityIndicator color='#87ceeb' /> :\n  this.renderFlatList()\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Import ",Object(r.b)("inlineCode",{parentName:"p"},"Text")," from RNE"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"import { ..., Text } from 'react-native-elements';\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add ",Object(r.b)("inlineCode",{parentName:"p"},"renderFlatList")," method"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"this.props.error ?\n  <Text h4>Error: {this.props.data.message || '\ud83d\ude15'}</Text> :\n  <FlatList ... />\n")))),Object(r.b)("p",null,"Test it. Instead of ",Object(r.b)("em",{parentName:"p"},"red or blank")," screen, now ",Object(r.b)("inlineCode",{parentName:"p"},"Error: Not Found")," displayed."),Object(r.b)("p",null,"What\u2019s else? Try to fetch ",Object(r.b)("inlineCode",{parentName:"p"},"facebook/react-native"),". We got another error \ud83d\ude40"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"Cannot read property 'avatar_url' of null\n")),Object(r.b)("p",null,"Not all of ",Object(r.b)("inlineCode",{parentName:"p"},"author")," have ",Object(r.b)("inlineCode",{parentName:"p"},"avatar_url"),". We should do this for the Avatar ",Object(r.b)("inlineCode",{parentName:"p"},"source"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"source={{uri: (item.author && item.author.avatar_url) || undefined}}\n")),Object(r.b)("p",null,"So, our app renders nothing if it has no url? It doesn\u2019t look good. ",Object(r.b)("em",{parentName:"p"},"Solution: render author initial name.")),Object(r.b)("p",null,"With the help of RegEx and Avatar ",Object(r.b)("inlineCode",{parentName:"p"},"title")," props, ",Object(r.b)("inlineCode",{parentName:"p"},"renderLeftElement")," should look like this now:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"renderLeftElement = (item) => {\n  const initials = item.commit.author.name.match(/\\b\\w/g) || [];\n\nreturn (\n    <View style={leftElementStyle}>\n      <Avatar\n        title={((initials.shift() || '') + (initials.pop() || ''))}\n        ...\n")),Object(r.b)("p",null,"Commit for Polishing the app section: ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/gitphone/commit/943974b285635884dc3ec1d7981146307dfd98d3"}),"943974b"),"."),Object(r.b)("p",null,"When I wrote this, fetch ",Object(r.b)("inlineCode",{parentName:"p"},"facebook/react-native")," returning following:"),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/3812/1*OYTvJP0RLLQemyT0ukb1Iw.png",alt:"Why no love for regex? Thanks to [Sanoor](https://stackoverflow.com/a/33076482)."})),Object(r.b)("em",{parentName:"p"},"Why no love for regex? Thanks to ",Object(r.b)("a",Object(a.a)({parentName:"em"},{href:"https://stackoverflow.com/a/33076482"}),"Sanoor"),".")),Object(r.b)("h2",{id:"conclusion"},"Conclusion"),Object(r.b)("p",null,"We have created a simple app using RNE + RNW \ud83d\udc4f"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Works great on iOS, web and android? \u2705")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Use components from react-native-elements? \u2705")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Move between screens? \u2705")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"API calls? \u2705"))),Object(r.b)("p",null,"Some improvements for ",Object(r.b)("inlineCode",{parentName:"p"},"gitphone"),":"),Object(r.b)("p",null,"If you go back from ",Object(r.b)("inlineCode",{parentName:"p"},"Commits")," screen, input form on ",Object(r.b)("inlineCode",{parentName:"p"},"Home")," screen are empty. If you want preserve previous values, this can be fixed easily by introducing redux to the app. References here: ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/rnw-github/pull/1/commits/48108ddc3e80669b9d57b2f998a5073d5e5eabb0"}),"48108dd"),"."),Object(r.b)("p",null,"Can we fetch more commits data once we reach the most bottom of the list? Infinite scroll?"),Object(r.b)("p",null,"For web, we can use ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/joshwnj/react-visibility-sensor"}),"react-visibility-sensor"),". Check it out: ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/rnw-github/pull/1/commits/6c1f6894d78840648a11bbdf2d0e841fb6dad12d"}),"6c1f689"),"."),Object(r.b)("p",null,"For native, it\u2019s easier. We can use ",Object(r.b)("inlineCode",{parentName:"p"},"FlatList")," ",Object(r.b)("inlineCode",{parentName:"p"},"onEndReached")," props. To give you an idea how, see this: ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/haruelrovix/rnw-github/pull/2/commits/9d2e1f2a3e8605f8184f1f8950eb0175045bb67a"}),"9d2e1f2"),"."),Object(r.b)("h2",{id:"troubleshooting-"},"Troubleshooting \ud83d\udcba"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"#1")," ",Object(r.b)("strong",{parentName:"p"},"Build failed when running ",Object(r.b)("inlineCode",{parentName:"strong"},"yarn android"))),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),":app:compileDebugAidl FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugAidl'.\n> java.lang.IllegalStateException: aidl is missing\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n")),Object(r.b)("p",null,"Here is how to fix #1:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Open Android Studio.")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2000/1*GJ4GJ5KKimpr7MZP4R2yPA.png",alt:null}))),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},"Open ",Object(r.b)("inlineCode",{parentName:"li"},"android")," project under ",Object(r.b)("inlineCode",{parentName:"li"},"gitphone"),".")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2000/1*jyLo3Jk-nudieT3aaEzUBQ.png",alt:null}))),Object(r.b)("ol",{start:3},Object(r.b)("li",{parentName:"ol"},"Click Update on this prompt.")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2000/1*7I2tqGZ9C63aUGOtae-XHg.png",alt:null}))),Object(r.b)("p",null,"Wait for Android Studio syncing the project."),Object(r.b)("ol",{start:4},Object(r.b)("li",{parentName:"ol"},"It synced successfully with two errors.")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2558/1*GUlICoUm4cU4KzUfps3W0Q.png",alt:null}))),Object(r.b)("ol",{start:5},Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"At this stage, just click ",Object(r.b)("inlineCode",{parentName:"p"},"Update Build Tools version and sync project")," on the sync window.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Now, the remaining warning is the ",Object(r.b)("inlineCode",{parentName:"p"},"Configuration 'compile'..."))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"To fix that, open ",Object(r.b)("inlineCode",{parentName:"p"},"app/build.gradle")," file, change ",Object(r.b)("inlineCode",{parentName:"p"},"dependencies")," section (line 139) to use ",Object(r.b)("inlineCode",{parentName:"p"},"implementation")," instead of ",Object(r.b)("inlineCode",{parentName:"p"},"compile"),"."),Object(r.b)("p",{parentName:"li"},'dependencies {\nimplementation fileTree(dir: "libs", include: ','["*.jar"]',')\nimplementation "com.android.support:appcompat-v7:23.0.1"\nimplementation "com.facebook.react:react-native:+"\n}')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Sync it again and close Android Studio."))),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2000/1*lIP2u1_7NmTmy8mcri6Smw.png",alt:null}))),Object(r.b)("p",null,"Troubleshooting for android is done. Now, you should be able to run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn android")," successfully."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"#2 Build failed when running ",Object(r.b)("inlineCode",{parentName:"strong"},"yarn ios"))),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"** BUILD FAILED **\n\nThe following build commands failed:\n\n CompileC /gitphone/ios/build/Build/Intermediates.noindex/React.build/Debug-iphonesimulator/double-conversion.build/Objects-normal/x86_64/strtod.o /gitphone/node_modules/react-native/third-party/double-conversion-1.1.5/src/strtod.cc normal x86_64 c++ com.apple.compilers.llvm.clang.1_0.compiler\n")),Object(r.b)("p",null,"Here is how to fix #2:"),Object(r.b)("p",null,"Inside the project, run script below from your favourite terminal"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ curl -L https://git.io/fix-rn-xcode10 | bash\n")),Object(r.b)("p",null,"If you run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn ios")," again, and you got this error"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"The following build commands failed:\n Libtool /gitphone/ios/build/Build/Products/Debug-iphonesimulator/libRCTWebSocket.a normal x86_64\n(1 failure)\n")),Object(r.b)("p",null,"Please run this script:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ cp ios/build/Build/Products/Debug-iphonesimulator/libfishhook.a node_modules/react-native/Libraries/WebSocket\n")),Object(r.b)("p",null,"Troubleshooting for iOS is done. Now, you should be able to run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn ios")," successfully."),Object(r.b)("h3",{id:"authors"},"Authors"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/haruelrovix"}),"haruelrovix")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/andangrd"}),"andangrd"))))}l.isMDXComponent=!0},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=i.a.createContext({}),l=function(e){var t=i.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=l(e.components);return i.a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},s=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,b=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),m=l(n),s=a,O=m["".concat(b,".").concat(s)]||m[s]||d[s]||r;return n?i.a.createElement(O,o(o({ref:t},p),{},{components:n})):i.a.createElement(O,o({ref:t},p))}));function O(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,b=new Array(r);b[0]=s;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:a,b[1]=o;for(var p=2;p<r;p++)b[p]=n[p];return i.a.createElement.apply(null,b)}return i.a.createElement.apply(null,n)}s.displayName="MDXCreateElement"}}]);